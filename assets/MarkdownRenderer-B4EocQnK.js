import{j as r,R as u}from"./index-B58KbolF.js";const h=s=>s.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,""),m=({math:s,block:n})=>{const t=u.useRef(null),e=n?"div":"span";return u.useEffect(()=>{if(t.current&&window.katex)try{window.katex.render(s,t.current,{throwOnError:!1,displayMode:n})}catch(i){console.error("KaTeX rendering error:",i),t.current.textContent=s}},[s,n]),r.jsx(e,{ref:t,className:n?"my-4":""})},c=s=>s.split(/(`.*?\`|\*\*.*?\*\*|__.*?__|\*.*?\*|_.*?_|\$.*?\$|\\\[.*?\\]|\\\(.*?\\\))/g).map((t,e)=>t.startsWith("`")&&t.endsWith("`")?r.jsx("code",{className:"bg-slate-100 text-slate-700 rounded-md px-1.5 py-0.5 text-sm font-mono",children:t.slice(1,-1)},e):t.startsWith("**")&&t.endsWith("**")||t.startsWith("__")&&t.endsWith("__")?r.jsx("strong",{children:t.slice(2,-2)},e):t.startsWith("*")&&t.endsWith("*")||t.startsWith("_")&&t.endsWith("_")?r.jsx("em",{children:t.slice(1,-1)},e):t.startsWith("$")&&t.endsWith("$")?r.jsx(m,{math:t.slice(1,-1)},e):t.startsWith("\\(")&&t.endsWith("\\)")?r.jsx(m,{math:t.slice(2,-2)},e):t.startsWith("\\[")&&t.endsWith("\\]")?r.jsx(m,{math:t.slice(2,-2),block:!0},e):t),x=(s,n)=>{if(s.startsWith("# ")){const t=s.substring(2),e=h(t);return r.jsx("h1",{id:e,className:"text-3xl font-bold mt-10 mb-6 text-slate-900 border-b pb-4",children:c(t)},n)}if(s.startsWith("## ")){const t=s.substring(3),e=h(t);return r.jsx("h2",{id:e,className:"text-2xl font-bold mt-8 mb-4 border-b pb-3 text-slate-800",children:c(t)},n)}if(s.startsWith("### ")){const t=s.substring(4),e=h(t);return r.jsx("h3",{id:e,className:"text-xl font-semibold mt-6 mb-3 text-slate-700",children:c(t)},n)}if(s.startsWith("---"))return r.jsx("hr",{className:"my-8"},n);if(s.startsWith("> ")){const t=s.split(`
`).map(e=>e.substring(2)).join(`
`);return r.jsx("blockquote",{className:"border-l-4 border-slate-300 pl-4 italic text-slate-600 my-4",children:c(t)},n)}if(s.match(/^(\* |- |[0-9]+\.) /m)){const t=/^[0-9]+\. /.test(s.trim()),e=s.split(`
`).map((i,l)=>{if(!i.trim())return null;const a=i.replace(/^(\* |- |[0-9]+\.)\s*/,"");return r.jsx("li",{className:"my-1",children:c(a)},l)}).filter(Boolean);return t?r.jsx("ol",{className:"list-decimal pl-6 space-y-2 my-4",children:e},n):r.jsx("ul",{className:"list-disc pl-6 space-y-2 my-4",children:e},n)}if(s.includes("|")){const t=s.split(`
`).filter(e=>e.trim().length>0&&e.includes("|"));if(t.length>1&&t[1].includes("---")){const e=t[0].split("|").map(l=>l.trim()).filter(Boolean),i=t.slice(2).map(l=>l.split("|").map(a=>a.trim()));return r.jsx("div",{className:"my-6 overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-slate-200 border border-slate-200",children:[r.jsx("thead",{className:"bg-slate-50",children:r.jsx("tr",{children:e.map((l,a)=>r.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider",children:c(l)},a))})}),r.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:i.map((l,a)=>r.jsx("tr",{className:"hover:bg-slate-50",children:l.slice(1,-1).map((o,d)=>r.jsx("td",{className:"px-4 py-3 text-sm text-slate-700",children:c(o)},d))},a))})]})},n)}}if(s.startsWith("```")){const t=s.split(`
`)[0].substring(3),e=s.substring(s.indexOf(`
`)+1,s.lastIndexOf("```")).trim();return r.jsxs("div",{className:"my-6",children:[t&&r.jsx("div",{className:"text-xs text-slate-400 font-mono bg-slate-800 rounded-t-md px-3 py-1 inline-block",children:t}),r.jsx("pre",{className:`bg-slate-800 text-white p-4 ${t?"rounded-b-md":"rounded-md"} overflow-x-auto text-sm`,children:r.jsx("code",{children:e})})]},n)}if(s.startsWith("$$")){const t=s.slice(2,-2).trim();return r.jsx(m,{math:t,block:!0},n)}return s.trim()?r.jsx("p",{className:"my-4 leading-relaxed text-slate-800",children:c(s)},n):null},p=({content:s})=>{const t=s.split(/(```[\s\S]*?```|\$\$[\s\S]*?\$\$|\|[\s\S]*?\|\n)/g).map((e,i)=>!e||e.trim()===""?null:i%2===1?x(e.trim(),`part-${i}`):e.split(/\n\s*\n/).map((a,o)=>{const d=a.trim();return d===""?null:x(d,`part-${i}-${o}`)}));return r.jsx(r.Fragment,{children:t})};export{p as M};
